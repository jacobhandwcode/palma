---
import { getLangFromUrl, useTranslations } from '../i18n/utils';

interface Props {
  title?: string;
  backgroundColor?: string;
  lang?: 'en' | 'es' | 'pt';
}

const { lang } = Astro.props;
const currentLang = lang || getLangFromUrl(Astro.url);
const t = useTranslations(currentLang);

const { title = t('team.title') } = Astro.props;

const teamMembers = [
  {
    id: 1,
    name: t('team.members.lefferts.name'),
    role: t('team.members.lefferts.role'),
    image: '/images/team/lefferts.webp',
    alt: t('team.members.lefferts.alt'),
  },
  {
    id: 2,
    name: t('team.members.builtForm.name'),
    role: t('team.members.builtForm.role'),
    image: '/images/team/built-from.webp',
    alt: t('team.members.builtForm.alt'),
  },
  {
    id: 3,
    name: t('team.members.studioRamirez.name'),
    role: t('team.members.studioRamirez.role'),
    image: '/images/team/ramirez.webp',
    alt: t('team.members.studioRamirez.alt'),
  },
  {
    id: 4,
    name: t('team.members.cervera.name'),
    role: t('team.members.cervera.role'),
    image: '/images/team/cervera.webp',
    alt: t('team.members.cervera.alt'),
  },
];
---

<section class="team-section">
  <div class="team-container">
    <div class="team-header">
      <h1 class="team-title">{title}</h1>
    </div>

    <div class="team-grid">
      {
        teamMembers.map((member) => (
          <div class="team-member" data-id={member.id}>
            <div class="member-content">
              <h3 class="member-name">{member.name}</h3>
              <p class="member-role">{member.role}</p>
            </div>
            <div class="member-image">
              <img src={member.image} alt={member.alt} loading="lazy" />
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>