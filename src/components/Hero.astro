---
import { getLangFromUrl, useTranslations } from '../i18n/utils';

interface Props {
  lang?: 'en' | 'es' | 'pt';
}

const { lang } = Astro.props;
const currentLang = lang || getLangFromUrl(Astro.url);
const t = useTranslations(currentLang);
---

<section class="hero">
  <div class="hero-video">
    <video autoplay muted loop playsinline>
      <source src="/videos/home-video.mp4" type="video/mp4" />
      {t('hero.video.fallback')}
    </video>
  </div>

  <div class="hero-content">
    <div class="hero-text">
      <h1 class="hero-title">
        {t('hero.title')}
      </h1>
      <p class="hero-subtitle">{t('hero.subtitle')}</p>
    </div>

    <div class="arrow">
      <a href="#text-box" class="down-arrow"></a>
    </div>
  </div>
</section>

<style>
  .arrow {
    opacity: 1;
    transition: opacity 0.5s 0.4s;
    translate: none;
    rotate: none;
    scale: none;
    transform: translate(-50%, 0%);
    margin: 0 auto;
    width: 0;
  }
  .down-arrow {
    display: inline-block;
    cursor: pointer;
    animation: bounce 1.5s infinite alternate;
  }

  .down-arrow::after {
    content: '';
    display: block;
    width: 20px;
    height: 20px;
    border: solid #ffffff;
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
  }

  @keyframes bounce {
    0% {
      transform: translateY(0);
    }

    100% {
      transform: translateY(-10px);
    }
  }
</style>
