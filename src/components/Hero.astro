---
import { getLangFromUrl, useTranslations } from '../i18n/utils';

interface Props {
  lang?: 'en' | 'es' | 'pt';
}

const { lang } = Astro.props;
const currentLang = lang || getLangFromUrl(Astro.url);
const t = useTranslations(currentLang);
---

<section class="hero">
  <div class="hero-video">
    <video autoplay muted loop playsinline>
      <source src="/videos/home-video.mp4" type="video/mp4" />
      {t('hero.video.fallback')}
    </video>
  </div>

  <div class="hero-content">
    <div class="hero-text">
      <h1 class="hero-title">
        {t('hero.title')}
      </h1>
      <p class="hero-subtitle">{t('hero.subtitle')}</p>
    </div>

    <div class="scroll-indicator">
      <img src="/images/icons/arrow.svg" alt={t('hero.scroll')} />
    </div>
  </div>
</section>
